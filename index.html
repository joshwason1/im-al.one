<!DOCTYPE html>

<head>
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" href="favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="main.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <script>
        (function(i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function() {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-92200197-1', 'auto');
        ga('send', 'pageview');
    </script>
</head>

<body>
    <div id="main" style="display:inline"></div>
    <div id="secondary" style="display:none"></div>

    <div id=text>
        <h1 id="timer">You've been alone for 0h 0m 0s</h1>
    </div>
    <div id="footer">
        <p>Site created by joshwason1</p>
    </div>
    <audio id="song" autoplay loop src="bgm.mp3" type="audio/mpeg" style="display:none" volume="0.5">
    <script>
        document.getElementById('song').volume = 0.5;

        var time = 0;
        time = localStorage.getItem("time");

        var x = setInterval(function() {
            time++;

            // Time calculations for days, hours, minutes and seconds
            var hours = Math.floor(time / (60 * 60));
            var minutes = Math.floor((time % (60 * 60)) / 60);
            var seconds = Math.floor((time % 60));

            localStorage.setItem("time", time);

            document.getElementById("timer").innerHTML = "You've been alone for " + hours + "h " + minutes + "m " + seconds + "s ";

        }, 1000);

        var imageArray = ["a.jpg", "b.jpg", "c.jpg", "d.jpg", "e.jpg", "f.jpg", "g.jpg", "h.gif",  "i.gif", "j.gif", "k.png", "l.gif",
            "m.gif", "n.gif", "o.jpg", "p.gif", "q.gif", "r.gif", "s.gif", "t.gif", "u.gif"];

        function changeImage(){
            var num = Math.floor(Math.random() * imageArray.length);
            if (document.getElementById('main').style.display == "inline") {
                document.getElementById('main').style.display = "none";
                document.getElementById('secondary').style.display = "inline";
                document.getElementById('main').style.backgroundImage = `url(images/${imageArray[num]})`;
            } else {
                document.getElementById('secondary').style.display = "none";
                document.getElementById('main').style.display = "inline";
                document.getElementById('secondary').style.backgroundImage = `url(images/${imageArray[num]})`;
            }
        }
        function initialImage() {
            var i = Math.floor(Math.random() * imageArray.length);
            document.getElementById('main').style.backgroundImage = `url(images/${imageArray[i]})`;
            var j = Math.floor(Math.random() * imageArray.length);
            document.getElementById('secondary').style.backgroundImage = `url(images/${imageArray[j]})`;
        }

        initialImage();
        var changeImage = setInterval(changeImage, 10000);
    </script>
</body>
